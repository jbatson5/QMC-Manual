

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Additional Tools &mdash; QMCPACK Manual  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="External Tools" href="external_tools.html" />
    <link rel="prev" title="Lab 5: Excited state calculations" href="lab_excited.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> QMCPACK Manual
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features of QMCPACK</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Obtaining, installing, and validating QMCPACK</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running QMCPACK</a></li>
<li class="toctree-l1"><a class="reference internal" href="units.html">Units used in QMCPACK</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_overview.html">Input file overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulationcell.html">Specifying the system to be simulated</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro_wavefunction.html">Trial wavefunction specificaion</a></li>
<li class="toctree-l1"><a class="reference internal" href="hamiltonianobservable.html">Hamiltonian and Observables</a></li>
<li class="toctree-l1"><a class="reference internal" href="methods.html">Quantum Monte Carlo Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="output_overview.html">Output Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzing.html">Analyzing QMCPACK data</a></li>
<li class="toctree-l1"><a class="reference internal" href="LCAO.html">Periodic LCAO for Solids</a></li>
<li class="toctree-l1"><a class="reference internal" href="sCI.html">Selected Configuration Interaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="afqmc.html">Auxiliary-Field Quantum Monte Carlo</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_qmc_statistics.html">Lab 1: MC Statistical Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_qmc_basics.html">Lab 2: QMC Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_advanced_molecules.html">Lab 3: Advanced molecular calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_condensed_matter.html">Lab 4: Condensed Matter Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_excited.html">Lab 5: Excited state calculations</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Additional Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#initialization">Initialization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#qmc-get-supercell">qmc-get-supercell</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#postprocessing">Postprocessing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#qmca">qmca</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qmc-fit">qmc-fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qdens">qdens</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qmcfinitesize">qmcfinitesize</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#converters">Converters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#convert4qmc">convert4qmc</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-use">General use</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-line-options">Command line options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#grid-options">Grid options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supported-codes">Supported codes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pw2qmcpack-x">pw2qmcpack.x</a></li>
<li class="toctree-l3"><a class="reference internal" href="#convertpw4qmc">convertpw4qmc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ppconvert">ppconvert</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#obtaining-pseudopotentials">Obtaining pseudopotentials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pseudopotentiallibrary-org">Pseudopotentiallibrary.org</a></li>
<li class="toctree-l3"><a class="reference internal" href="#opium">Opium</a></li>
<li class="toctree-l3"><a class="reference internal" href="#burkatzki-filippi-dolg">Burkatzki-Filippi-Dolg</a></li>
<li class="toctree-l3"><a class="reference internal" href="#casino">CASINO</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wftester">wftester</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="external_tools.html">External Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to the Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="unit_testing.html">Unit Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="design_features.html">QMCPACK Design and Feature Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="developing.html">Development Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices.html">Appendices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">QMCPACK Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Additional Tools</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/additional_tools.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="additional-tools">
<span id="id1"></span><h1>Additional Tools<a class="headerlink" href="#additional-tools" title="Permalink to this headline">¶</a></h1>
<p>QMCPACK provides a set of lightweight executables that address certain
common problems in QMC workflow and analysis.  These range from conversion utilities between
different file formats and QMCPACK (e.g., <code class="docutils literal notranslate"><span class="pre">ppconvert</span></code> and <code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code>),
(qmc-extract-eshdf-kvectors) to postprocessing utilities (<code class="docutils literal notranslate"><span class="pre">trace-density</span></code> and <code class="docutils literal notranslate"><span class="pre">qmcfinitesize</span></code>) to many others.  In this section, we cover the use cases, syntax, and features of all additional tools provided with QMCPACK.</p>
<div class="section" id="initialization">
<h2>Initialization<a class="headerlink" href="#initialization" title="Permalink to this headline">¶</a></h2>
<div class="section" id="qmc-get-supercell">
<h3>qmc-get-supercell<a class="headerlink" href="#qmc-get-supercell" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="postprocessing">
<h2>Postprocessing<a class="headerlink" href="#postprocessing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="qmca">
<h3>qmca<a class="headerlink" href="#qmca" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">qmca</span></code> is a versatile tool to analyze and plot the raw data from QMCPACK <code class="docutils literal notranslate"><span class="pre">*.scalar.dat</span></code> files.
It is a Python executable and part of the Nexus suite of tools.  It can be found in
<code class="docutils literal notranslate"><span class="pre">qmcpack/nexus/executables</span></code>. For details, see <a class="reference internal" href="analyzing.html#qmca"><span class="std std-ref">Using the qmca tool to obtain total energies and related quantities</span></a>.</p>
</div>
<div class="section" id="qmc-fit">
<h3>qmc-fit<a class="headerlink" href="#qmc-fit" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">qmc-fit</span></code> is a curve fitting tool used to obtain statistical error bars on fitted parameters.
It is useful for DMC time step extrapolation.  For details, see <a class="reference internal" href="analyzing.html#qmcfit"><span class="std std-ref">Using the qmc-fit tool for statistical time step extrapolation and curve fitting</span></a>.</p>
</div>
<div class="section" id="qdens">
<h3>qdens<a class="headerlink" href="#qdens" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">qdens</span></code> is a command line tool to produce density files from QMCPACK’s <code class="docutils literal notranslate"><span class="pre">stat.h5</span></code> output files.  For details, see <a class="reference internal" href="analyzing.html#qdens"><span class="std std-ref">Using the qdens tool to obtain electron densities</span></a>.</p>
</div>
<div class="section" id="qmcfinitesize">
<h3>qmcfinitesize<a class="headerlink" href="#qmcfinitesize" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">qmcfinitesize</span></code> is a utility to compute many-body finite-size corrections to the energy.  It
is a C++ executable that is built alongside the QMCPACK executable.  It can be found in
<code class="docutils literal notranslate"><span class="pre">build/bin</span></code>.</p>
</div>
</div>
<div class="section" id="converters">
<h2>Converters<a class="headerlink" href="#converters" title="Permalink to this headline">¶</a></h2>
<div class="section" id="convert4qmc">
<span id="id2"></span><h3>convert4qmc<a class="headerlink" href="#convert4qmc" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Convert4qmc</span></code> allows conversion of orbitals and wavefunctions from
quantum chemistry output files to QMCPACK XML and HDF5 input files.
It is a small C++ executable that is built alongside the QMCPACK
executable and can be found in <code class="docutils literal notranslate"><span class="pre">build/bin</span></code>.</p>
<p>To date, <code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> supports the following codes:
GAMESS <a class="bibtex reference internal" href="intro_wavefunction.html#schmidt93" id="id3">[SBB+93]</a>, PySCF <a class="bibtex reference internal" href="#sun2018" id="id4">[SBB+18]</a>, QP <a class="bibtex reference internal" href="sCI.html#qp" id="id5">[Sce17]</a>
and GAMESS-FMO <a class="bibtex reference internal" href="#fedorov2004" id="id6">[FOK+04]</a><a class="bibtex reference internal" href="intro_wavefunction.html#schmidt93" id="id7">[SBB+93]</a>.</p>
<div class="section" id="general-use">
<h4>General use<a class="headerlink" href="#general-use" title="Permalink to this headline">¶</a></h4>
<p>General use of <code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> can be prompted by running with no options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="n">convert4qmc</span>

<span class="n">Defaults</span> <span class="p">:</span> <span class="o">-</span><span class="n">gridtype</span> <span class="n">log</span> <span class="o">-</span><span class="n">first</span> <span class="mf">1e-6</span> <span class="o">-</span><span class="n">last</span> <span class="mi">100</span> <span class="o">-</span><span class="n">size</span> <span class="mi">1001</span> <span class="o">-</span><span class="n">ci</span> <span class="n">required</span> <span class="o">-</span><span class="n">threshold</span> <span class="mf">0.01</span> <span class="o">-</span><span class="n">TargetState</span> <span class="mi">0</span> <span class="o">-</span><span class="n">prefix</span> <span class="n">sample</span>

 <span class="n">convert</span> <span class="p">[</span><span class="o">-</span><span class="n">gaussian</span><span class="o">|-</span><span class="n">casino</span><span class="o">|-</span><span class="n">gamesxml</span><span class="o">|-</span><span class="n">gamess</span><span class="o">|-</span><span class="n">gamessFMO</span><span class="o">|-</span><span class="n">QP</span><span class="o">|-</span><span class="n">pyscf</span><span class="o">|-</span><span class="n">orbitals</span><span class="p">]</span>
 <span class="n">filename</span>
<span class="p">[</span><span class="o">-</span><span class="n">nojastrow</span> <span class="o">-</span><span class="n">hdf5</span> <span class="o">-</span><span class="n">prefix</span> <span class="n">title</span> <span class="o">-</span><span class="n">addCusp</span> <span class="o">-</span><span class="n">production</span> <span class="o">-</span><span class="n">NbImages</span> <span class="n">NimageX</span> <span class="n">NimageY</span> <span class="n">NimageZ</span><span class="p">]</span>
<span class="p">[</span><span class="o">-</span><span class="n">psi_tag</span> <span class="n">psi0</span> <span class="o">-</span><span class="n">ion_tag</span> <span class="n">ion0</span> <span class="o">-</span><span class="n">gridtype</span> <span class="n">log</span><span class="o">|</span><span class="n">log0</span><span class="o">|</span><span class="n">linear</span> <span class="o">-</span><span class="n">first</span> <span class="n">ri</span> <span class="o">-</span><span class="n">last</span> <span class="n">rf</span><span class="p">]</span>
<span class="p">[</span><span class="o">-</span><span class="n">size</span> <span class="n">npts</span> <span class="o">-</span><span class="n">ci</span> <span class="n">file</span><span class="o">.</span><span class="n">out</span> <span class="o">-</span><span class="n">threshold</span> <span class="n">cimin</span> <span class="o">-</span><span class="n">TargetState</span> <span class="n">state_number</span>
<span class="o">-</span><span class="n">NaturalOrbitals</span> <span class="n">NumToRead</span> <span class="o">-</span><span class="n">optDetCoeffs</span><span class="p">]</span>
<span class="n">Defaults</span> <span class="p">:</span> <span class="o">-</span><span class="n">gridtype</span> <span class="n">log</span> <span class="o">-</span><span class="n">first</span> <span class="mf">1e-6</span> <span class="o">-</span><span class="n">last</span> <span class="mi">100</span> <span class="o">-</span><span class="n">size</span> <span class="mi">1001</span> <span class="o">-</span><span class="n">ci</span> <span class="n">required</span>
<span class="o">-</span><span class="n">threshold</span> <span class="mf">0.01</span> <span class="o">-</span><span class="n">TargetState</span> <span class="mi">0</span> <span class="o">-</span><span class="n">prefix</span> <span class="n">sample</span>
<span class="n">When</span> <span class="n">the</span> <span class="nb">input</span> <span class="nb">format</span> <span class="ow">is</span> <span class="n">missing</span><span class="p">,</span> <span class="n">the</span>  <span class="n">extension</span> <span class="n">of</span> <span class="n">filename</span> <span class="ow">is</span> <span class="n">used</span> <span class="n">to</span> <span class="n">determine</span>
<span class="n">the</span> <span class="nb">format</span>
 <span class="o">*.</span><span class="n">Fchk</span> <span class="o">-&gt;</span> <span class="n">gaussian</span><span class="p">;</span> <span class="o">*.</span><span class="n">out</span> <span class="o">-&gt;</span> <span class="n">gamess</span><span class="p">;</span> <span class="o">*.</span><span class="n">data</span> <span class="o">-&gt;</span> <span class="n">casino</span><span class="p">;</span> <span class="o">*.</span><span class="n">xml</span> <span class="o">-&gt;</span> <span class="n">gamesxml</span>
</pre></div>
</div>
<p>As an example, to convert a GAMESS calculation using a single determinant, the following use is sufficient:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">convert4qmc</span> <span class="o">-</span><span class="n">gamess</span> <span class="n">MyGamessOutput</span><span class="o">.</span><span class="n">out</span>
</pre></div>
</div>
<p>By default, the converter will generate multiple files:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> output:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 14%" />
<col style="width: 12%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>output</strong></p></th>
<th class="head"><p><strong>file type</strong></p></th>
<th class="head"><p><strong>default</strong></p></th>
<th class="head"><p><strong>description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">*.qmc.in-wfs.xml</span></code></p></td>
<td><p>XML</p></td>
<td><p>default</p></td>
<td><p>Main input file for QMCPACK</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">*.qmc.in-wfnoj.xml</span></code></p></td>
<td><p>XML</p></td>
<td><p>default</p></td>
<td><p>Main input file for QMCPACK</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">*.structure.xml</span></code></p></td>
<td><p>XML</p></td>
<td><p>default</p></td>
<td><p>File containing the structure of the system</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">*.wfj.xml</span></code></p></td>
<td><p>XML</p></td>
<td><p>default</p></td>
<td><p>Wavefunction file with 1-, 2-, and 3-body Jastrows</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">*.wfnoj.xml</span></code></p></td>
<td><p>XML</p></td>
<td><p>default</p></td>
<td><p>Wavefunction file with no Jastrows</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">*.orbs.h5</span></code></p></td>
<td><p>HDF5</p></td>
<td><p>with -hdf5</p></td>
<td><p>HDF5 file containing all wavefunction data</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
<p>If no <code class="docutils literal notranslate"><span class="pre">-prefix</span></code> option is specified, the prefix is taken from
the input file name. For instance, if the GAMESS output file is
<code class="docutils literal notranslate"><span class="pre">Mysim</span></code>.out, the files generated by <code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> will use the
prefix <code class="docutils literal notranslate"><span class="pre">Mysim</span></code> and output files will be
<code class="docutils literal notranslate"><span class="pre">Mysim.qmc.in-wfs.xml</span></code>, <code class="docutils literal notranslate"><span class="pre">Mysim.structure.xml</span></code>, and so on.</p>
<ul>
<li><p>Files <code class="docutils literal notranslate"><span class="pre">.in-wfs.xml</span></code> and <code class="docutils literal notranslate"><span class="pre">.in-wfnoj.xml</span></code></p>
<p>These
are the input files for QMCPACK.  The geometry and the
wavefunction are stored in external files <code class="docutils literal notranslate"><span class="pre">*.structure.xml</span></code>
and <code class="docutils literal notranslate"><span class="pre">*.wfj.xml</span></code> (referenced from <code class="docutils literal notranslate"><span class="pre">*.in-wfs.xml</span></code>) or
<code class="docutils literal notranslate"><span class="pre">*.qmc.wfnoj.xml</span></code> (referenced from
<code class="docutils literal notranslate"><span class="pre">*.qmc.in-wfnoj.xml</span></code>). The Hamiltonian section is included,
and the presence or lack of presence of an ECP is detected during the
conversion. If use of an ECP is detected, a default ECP name is
added (e.g., <code class="docutils literal notranslate"><span class="pre">H.qmcpp.xml</span></code>), and it is the responsibility of
the user to modify the ECP name to match the one used to generate
the wavefunction.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  &lt;?xml version=&quot;1.0&quot;?&gt;
&lt;simulation&gt;
  &lt;!--

Example QMCPACK input file produced by convert4qmc

It is recommend to start with only the initial VMC block and adjust
parameters based on the measured energies, variance, and statistics.

--&gt;
  &lt;!--Name and Series number of the project.--&gt;
  &lt;project id=&quot;gms&quot; series=&quot;0&quot;/&gt;
  &lt;!--Link to the location of the Atomic Coordinates and the location of
      the Wavefunction.--&gt;
  &lt;include href=&quot;gms.structure.xml&quot;/&gt;
  &lt;include href=&quot;gms.wfnoj.xml&quot;/&gt;
  &lt;!--Hamiltonian of the system. Default ECP filenames are assumed.--&gt;
  &lt;hamiltonian name=&quot;h0&quot; type=&quot;generic&quot; target=&quot;e&quot;&gt;
    &lt;pairpot name=&quot;ElecElec&quot; type=&quot;coulomb&quot; source=&quot;e&quot; target=&quot;e&quot;
                                                   physical=&quot;true&quot;/&gt;
    &lt;pairpot name=&quot;IonIon&quot; type=&quot;coulomb&quot; source=&quot;ion0&quot; target=&quot;ion0&quot;/&gt;
    &lt;pairpot name=&quot;PseudoPot&quot; type=&quot;pseudo&quot; source=&quot;ion0&quot; wavefunction=&quot;psi0&quot;
                                                           format=&quot;xml&quot;&gt;
      &lt;pseudo elementType=&quot;H&quot; href=&quot;H.qmcpp.xml&quot;/&gt;
      &lt;pseudo elementType=&quot;Li&quot; href=&quot;Li.qmcpp.xml&quot;/&gt;
    &lt;/pairpot&gt;
  &lt;/hamiltonian&gt;

The ``qmc.in-wfnoj.xml`` file will have one VMC block with a
minimum number of blocks to reproduce the HF/DFT energy used to
generate the trial wavefunction.

::

    &lt;qmc method=&quot;vmc&quot; move=&quot;pbyp&quot; checkpoint=&quot;-1&quot;&gt;
      &lt;estimator name=&quot;LocalEnergy&quot; hdf5=&quot;no&quot;/&gt;
      &lt;parameter name=&quot;warmupSteps&quot;&gt;100&lt;/parameter&gt;
      &lt;parameter name=&quot;blocks&quot;&gt;20&lt;/parameter&gt;
      &lt;parameter name=&quot;steps&quot;&gt;50&lt;/parameter&gt;
      &lt;parameter name=&quot;substeps&quot;&gt;8&lt;/parameter&gt;
      &lt;parameter name=&quot;timestep&quot;&gt;0.5&lt;/parameter&gt;
      &lt;parameter name=&quot;usedrift&quot;&gt;no&lt;/parameter&gt;
    &lt;/qmc&gt;
  &lt;/simulation&gt;
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">qmc.in-wfj.xml</span></code> file is used, Jastrow optimization
blocks followed by a VMC and DMC block are included. These blocks
contain default values to allow the user to test the accuracy of a
system; however, they need to be updated and optimized for each
system. The initial values might only be suitable for a small molecule.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  &lt;loop max=&quot;4&quot;&gt;
    &lt;qmc method=&quot;linear&quot; move=&quot;pbyp&quot; checkpoint=&quot;-1&quot;&gt;
      &lt;estimator name=&quot;LocalEnergy&quot; hdf5=&quot;no&quot;/&gt;
      &lt;parameter name=&quot;warmupSteps&quot;&gt;100&lt;/parameter&gt;
      &lt;parameter name=&quot;blocks&quot;&gt;20&lt;/parameter&gt;
      &lt;parameter name=&quot;timestep&quot;&gt;0.5&lt;/parameter&gt;
      &lt;parameter name=&quot;walkers&quot;&gt;1&lt;/parameter&gt;
      &lt;parameter name=&quot;samples&quot;&gt;16000&lt;/parameter&gt;
      &lt;parameter name=&quot;substeps&quot;&gt;4&lt;/parameter&gt;
      &lt;parameter name=&quot;usedrift&quot;&gt;no&lt;/parameter&gt;
      &lt;parameter name=&quot;MinMethod&quot;&gt;OneShiftOnly&lt;/parameter&gt;
      &lt;parameter name=&quot;minwalkers&quot;&gt;0.0001&lt;/parameter&gt;
    &lt;/qmc&gt;
  &lt;/loop&gt;
  &lt;!--

Example follow-up VMC optimization using more samples for greater accuracy:

--&gt;
  &lt;loop max=&quot;10&quot;&gt;
    &lt;qmc method=&quot;linear&quot; move=&quot;pbyp&quot; checkpoint=&quot;-1&quot;&gt;
      &lt;estimator name=&quot;LocalEnergy&quot; hdf5=&quot;no&quot;/&gt;
      &lt;parameter name=&quot;warmupSteps&quot;&gt;100&lt;/parameter&gt;
      &lt;parameter name=&quot;blocks&quot;&gt;20&lt;/parameter&gt;
      &lt;parameter name=&quot;timestep&quot;&gt;0.5&lt;/parameter&gt;
      &lt;parameter name=&quot;walkers&quot;&gt;1&lt;/parameter&gt;
      &lt;parameter name=&quot;samples&quot;&gt;64000&lt;/parameter&gt;
      &lt;parameter name=&quot;substeps&quot;&gt;4&lt;/parameter&gt;
      &lt;parameter name=&quot;usedrift&quot;&gt;no&lt;/parameter&gt;
      &lt;parameter name=&quot;MinMethod&quot;&gt;OneShiftOnly&lt;/parameter&gt;
      &lt;parameter name=&quot;minwalkers&quot;&gt;0.3&lt;/parameter&gt;
    &lt;/qmc&gt;
  &lt;/loop&gt;
  &lt;!--

Production VMC and DMC:

Examine the results of the optimization before running these blocks.
For example, choose the best optimized jastrow from all obtained, put in the
wavefunction file, and do not reoptimize.

--&gt;
  &lt;qmc method=&quot;vmc&quot; move=&quot;pbyp&quot; checkpoint=&quot;-1&quot;&gt;
    &lt;estimator name=&quot;LocalEnergy&quot; hdf5=&quot;no&quot;/&gt;
    &lt;parameter name=&quot;warmupSteps&quot;&gt;100&lt;/parameter&gt;
    &lt;parameter name=&quot;blocks&quot;&gt;200&lt;/parameter&gt;
    &lt;parameter name=&quot;steps&quot;&gt;50&lt;/parameter&gt;
    &lt;parameter name=&quot;substeps&quot;&gt;8&lt;/parameter&gt;
    &lt;parameter name=&quot;timestep&quot;&gt;0.5&lt;/parameter&gt;
    &lt;parameter name=&quot;usedrift&quot;&gt;no&lt;/parameter&gt;
    &lt;!--Sample count should match targetwalker count for
      DMC. Will be obtained from all nodes.--&gt;
    &lt;parameter name=&quot;samples&quot;&gt;16000&lt;/parameter&gt;
  &lt;/qmc&gt;
  &lt;qmc method=&quot;dmc&quot; move=&quot;pbyp&quot; checkpoint=&quot;20&quot;&gt;
    &lt;estimator name=&quot;LocalEnergy&quot; hdf5=&quot;no&quot;/&gt;
    &lt;parameter name=&quot;targetwalkers&quot;&gt;16000&lt;/parameter&gt;
    &lt;parameter name=&quot;reconfiguration&quot;&gt;no&lt;/parameter&gt;
    &lt;parameter name=&quot;warmupSteps&quot;&gt;100&lt;/parameter&gt;
    &lt;parameter name=&quot;timestep&quot;&gt;0.005&lt;/parameter&gt;
    &lt;parameter name=&quot;steps&quot;&gt;100&lt;/parameter&gt;
    &lt;parameter name=&quot;blocks&quot;&gt;100&lt;/parameter&gt;
    &lt;parameter name=&quot;nonlocalmoves&quot;&gt;yes&lt;/parameter&gt;
  &lt;/qmc&gt;
&lt;/simulation&gt;
</pre></div>
</div>
</li>
<li><p>File <code class="docutils literal notranslate"><span class="pre">.structure.xml</span></code></p>
<p>This file will be referenced from the main QMCPACK input. It contains the geometry of the system, position of the atoms, number of atoms, atomic types and charges, and number of electrons.</p>
</li>
<li><p>Files <code class="docutils literal notranslate"><span class="pre">.wfj.xml</span></code> and <code class="docutils literal notranslate"><span class="pre">.wfnoj.xml</span></code></p>
<p>These files contain the basis set detail, orbital coefficients, and
the 1-, 2-, and 3-body Jastrow (in the case of <code class="docutils literal notranslate"><span class="pre">.wfj.xml</span></code>). If the
wavefunction is multideterminant, the expansion will be at the end of
the file. We recommend using the option <code class="docutils literal notranslate"><span class="pre">-hdf5</span></code> when large molecules
are studied to store the data more compactly in an HDF5 file.</p>
</li>
<li><p>File <code class="docutils literal notranslate"><span class="pre">.orbs.h5</span></code>
This file is generated only if the option <code class="docutils literal notranslate"><span class="pre">-hdf5</span></code> is added as
follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">convert4qmc</span> <span class="o">-</span><span class="n">gamess</span> <span class="n">MyGamessOutput</span><span class="o">.</span><span class="n">out</span> <span class="o">-</span><span class="n">hdf5</span>
</pre></div>
</div>
<p>In this case, the <code class="docutils literal notranslate"><span class="pre">.wfj.xml</span></code> or <code class="docutils literal notranslate"><span class="pre">.wfnoj.xml</span></code> files will point to
this HDF file. Information about the basis set, orbital coefficients,
and the multideterminant expansion is put in this file and removed from
the wavefunction files, making them smaller.</p>
</li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> input type:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 67%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>option name</strong></p></th>
<th class="head"><p><strong>description</strong></p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">orbitals</span></code></p></td>
<td><p>Generic HDF5 input file. Mainly automatically generated from QP and PySCF.</p></td>
<td><p>Actively maintained</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-pyscf</span></code></p></td>
<td><p>PySCF code</p></td>
<td><p>Actively maintained</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">QP</span></code></p></td>
<td><p>QP code</p></td>
<td><p>Actively maintained</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-gamess</span></code></p></td>
<td><p>Gamess code</p></td>
<td><p>Maintained</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-gamesFMO</span></code></p></td>
<td><p>Gamess FMO</p></td>
<td><p>Maintained</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-gaussian</span></code></p></td>
<td><p>Gaussian code</p></td>
<td><p>Obsolete/untested</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-casino</span></code></p></td>
<td><p>Casino code</p></td>
<td><p>Obsolete/untested</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-gamesxml</span></code></p></td>
<td><p>Gamess xml format code</p></td>
<td><p>Obsolete/untested</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="command-line-options">
<h4>Command line options<a class="headerlink" href="#command-line-options" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> command line options:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 13%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Option Name</strong></p></th>
<th class="head"><p><strong>Value</strong></p></th>
<th class="head"><p><strong>default</strong></p></th>
<th class="head"><p><strong>description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-nojastrow</span></code></p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Force no Jastrow. <code class="docutils literal notranslate"><span class="pre">qmc.in.wfj</span></code> will not be generated</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-hdf5</span></code></p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Force the wf to be in HDF5 format</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-prefix</span></code></p></td>
<td><p>string</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>All created files will have the name of the string</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-multidet</span></code></p></td>
<td><p>string</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>HDF5 file containing a multideterminant expansion</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-addCusp</span></code></p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Force to add orbital cusp correction (ONLY for all-electron)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-production</span></code></p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Generates specific blocks in the input</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-psi_tag</span></code></p></td>
<td><p>string</p></td>
<td><p>psi0</p></td>
<td><p>Name of the electrons particles inside QMCPACK</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-ion_tag</span></code></p></td>
<td><p>string</p></td>
<td><p>ion0</p></td>
<td><p>Name of the ion particles inside QMCPACK</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">-multidet</span></code></p>
<p>This option is to be used when a multideterminant expansion (mainly a CI expansion) is present in an HDF5 file. The trial wavefunction file will not display the full list of multideterminants and will add a path to the HDF5 file as follows (full example for the C2 molecule in qmcpack/tests/molecules/C2_pp).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;qmcsystem&gt;
  &lt;wavefunction name=&quot;psi0&quot; target=&quot;e&quot;&gt;
    &lt;determinantset type=&quot;MolecularOrbital&quot; name=&quot;LCAOBSet&quot; source=&quot;ion0&quot; transform=&quot;yes&quot; href=&quot;C2.h5&quot;&gt;
      &lt;sposet basisset=&quot;LCAOBSet&quot; name=&quot;spo-up&quot; size=&quot;58&quot;&gt;
        &lt;occupation mode=&quot;ground&quot;/&gt;
        &lt;coefficient size=&quot;58&quot; spindataset=&quot;0&quot;/&gt;
      &lt;/sposet&gt;
      &lt;sposet basisset=&quot;LCAOBSet&quot; name=&quot;spo-dn&quot; size=&quot;58&quot;&gt;
        &lt;occupation mode=&quot;ground&quot;/&gt;
        &lt;coefficient size=&quot;58&quot; spindataset=&quot;0&quot;/&gt;
      &lt;/sposet&gt;
      &lt;multideterminant optimize=&quot;no&quot; spo_up=&quot;spo-up&quot; spo_dn=&quot;spo-dn&quot;&gt;
        &lt;detlist size=&quot;202&quot; type=&quot;DETS&quot; nca=&quot;0&quot; ncb=&quot;0&quot; nea=&quot;4&quot; neb=&quot;4&quot; nstates=&quot;58&quot; cutoff=&quot;1e-20&quot; href=&quot;C2.h5&quot;/&gt;
      &lt;/multideterminant&gt;
    &lt;/determinantset&gt;
  &lt;/wavefunction&gt;
&lt;/qmcsystem&gt;
</pre></div>
</div>
<p>To generate such trial wavefunction, the converter has to be invoked as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">convert4qmc</span> <span class="o">-</span><span class="n">orbitals</span> <span class="n">C2</span><span class="o">.</span><span class="n">h5</span> <span class="o">-</span><span class="n">multidet</span> <span class="n">C2</span><span class="o">.</span><span class="n">h5</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">-nojastrow</span></code></p>
<p>This option generates only an input file, <code class="docutils literal notranslate"><span class="pre">*.qmc.in.wfnoj.xml</span></code>, containing no Jastrow optimization blocks and references a wavefunction file, <code class="docutils literal notranslate"><span class="pre">*.wfnoj.xml</span></code>, containing no Jastrow section.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">-hdf5</span></code></p>
<p>This option generates the <code class="docutils literal notranslate"><span class="pre">*.orbs.h5</span></code> HDF5 file containing the basis set and the orbital coefficients. If the wavefunction contains a multideterminant expansion from QP, it will also be stored in this file. This option minimizes the size of the <code class="docutils literal notranslate"><span class="pre">*.wfj.xml</span></code> file, which points to the HDF file, as in the following example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> &lt;?xml version=&quot;1.0&quot;?&gt;
&lt;qmcsystem&gt;
  &lt;wavefunction name=&quot;psi0&quot; target=&quot;e&quot;&gt;
    &lt;determinantset type=&quot;MolecularOrbital&quot; name=&quot;LCAOBSet&quot; source=&quot;ion0&quot;
       transform=&quot;yes&quot; href=&quot;test.orbs.h5&quot;&gt;
      &lt;slaterdeterminant&gt;
        &lt;determinant id=&quot;updet&quot; size=&quot;39&quot;&gt;
          &lt;occupation mode=&quot;ground&quot;/&gt;
          &lt;coefficient size=&quot;411&quot; spindataset=&quot;0&quot;/&gt;
        &lt;/determinant&gt;
        &lt;determinant id=&quot;downdet&quot; size=&quot;35&quot;&gt;
          &lt;occupation mode=&quot;ground&quot;/&gt;
          &lt;coefficient size=&quot;411&quot; spindataset=&quot;0&quot;/&gt;
        &lt;/determinant&gt;
      &lt;/slaterdeterminant&gt;
    &lt;/determinantset&gt;
  &lt;/wavefunction&gt;
&lt;/qmcsystem&gt;
</pre></div>
</div>
<p>Jastrow functions will be included if the option “-nojastrow” was
not specified. Note that when initially optimization a wavefunction, we recommend
temporarily removing/disabling the 3-body Jastrow.</p>
</li>
<li><p><strong>-prefix</strong></p>
<p>Sets the prefix for all output generated by <code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code>.
If not specified, <code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> will use the defaults for the
following:</p>
<ul class="simple">
<li><p><strong>Gamess</strong> If the Gamess output file is named “<strong>Name</strong>.out” or
“<strong>Name</strong>.output,” all files generated by <code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> will carry
<strong>Name</strong> as a prefix (i.e., <strong>Name</strong>.qmc.in.xml).</p></li>
<li><p><strong>PySCF</strong> If the PySCF output file is named “<strong>Name</strong>.H5,” all files
generated by <code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> will carry <strong>Name</strong> as a prefix (i.e.,
<strong>Name</strong>.qmc.in.xml).</p></li>
<li><p><strong>QP</strong> If the QP output file is named “<strong>Name</strong>.dump,” all files
generated by <code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> will carry <strong>Name</strong> as a prefix (i.e.,
<strong>Name</strong>.qmc.in.xml).</p></li>
<li><p><strong>Generic HDF5 input</strong> If a generic HDF5 file (either from PySCF or
QP in the HDF5 format) is named “<strong>Name</strong>.H5,” all files generated by
<code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> will carry <strong>Name</strong> as a prefix (i.e.,
<strong>Name</strong>.qmc.in.xml).</p></li>
</ul>
</li>
<li><p><strong>-addCusp</strong></p>
<p>This option is very important for all-electron (AE) calculations. In
this case, orbitals have to be corrected for the electron-nuclear
cusp. The cusp correction scheme follows the algorithm described by Ma
et al. <a class="bibtex reference internal" href="#ma2005" id="id8">[MTDN05]</a> When this option is present, the
wavefunction file has a new set of tags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qmcsystem</span><span class="o">&gt;</span>
 <span class="o">&lt;</span><span class="n">wavefunction</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;psi0&quot;</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">determinantset</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;MolecularOrbital&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;LCAOBSet&quot;</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;ion0&quot;</span>
     <span class="n">transform</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span> <span class="n">cuspCorrection</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">basisset</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;LCAOBSet&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The tag “cuspCorrection” in the <code class="docutils literal notranslate"><span class="pre">wfj.xml</span></code> (or <code class="docutils literal notranslate"><span class="pre">wfnoj.xml</span></code>)
wavefunction file will force correction of the orbitals at the
beginning of the run.
In the “orbitals“ section of the wavefunction file, a new tag
“cuspInfo” will be added for orbitals spin-up and orbitals spin-down:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="n">slaterdeterminant</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">determinant</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;updet&quot;</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;2&quot;</span>
          <span class="n">cuspInfo</span><span class="o">=</span><span class="s2">&quot;../CuspCorrection/updet.cuspInfo.xml&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">occupation</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;ground&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">coefficient</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;135&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;updetC&quot;</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">determinant</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;downdet&quot;</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;2&quot;</span>
         <span class="n">cuspInfo</span><span class="o">=</span><span class="s2">&quot;../CuspCorrection/downdet.cuspInfo.xml&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">occupation</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;ground&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">coefficient</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;135&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;downdetC&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>These tags will point to the files <code class="docutils literal notranslate"><span class="pre">updet.cuspInfo.xml</span></code> and
<code class="docutils literal notranslate"><span class="pre">downdet.cuspInfo.xml</span></code>. By default, the converter assumes that
the files are located in the relative path
<code class="docutils literal notranslate"><span class="pre">../CuspCorrection/</span></code>. If the directory
<code class="docutils literal notranslate"><span class="pre">../CuspCorrection</span></code> does not exist, or if the files are not
present in that directory, QMCPACK will run the cusp correction
algorithm to generate both files.  If the files exist, then QMCPACK
will apply the corrections to the orbitals.</p>
<p><strong>Important notes:</strong></p>
<p>The cusp correction implementations has been parallelized and performance improved.  However, since the correction needs
to be applied for every ion and then for every orbital on that ion, this operation can be costly (slow) for large
systems. We recommend saving and reusing the computed cusp correction files <code class="docutils literal notranslate"><span class="pre">updet.cuspInfo.xml</span></code> and
<code class="docutils literal notranslate"><span class="pre">downdet.cuspInfo.xml</span></code>, and transferring them between computer systems where relevant.</p>
</li>
<li><p><strong>-psi_tag</strong></p>
<p>QMCPACK builds the wavefunction as a named object. In the vast majority of cases, one wavefunction is simulated at a time, but there may be situations where we want to distinguish different parts of a wavefunction, or even use multiple wavefunctions. This option can change the name for these cases.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">wavefunction</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;psi0&quot;</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>-ion_tag</strong></p>
<p>Although similar to <strong>-psi_tag</strong>, this is used for the type of ions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">particleset</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ion0&quot;</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>-production</strong></p>
<p>Without this option, input files with standard optimization, VMC, and
DMC blocks are generated. When the “-production” option is
specified, an input file containing complex options that may be
more suitable for large runs at HPC centers is generated. This option
is for users who are already familiar with QMC and QMCPACK. We encourage feedback
on the standard and production sample inputs.</p>
</li>
</ul>
<p>The following options are specific to using MCSCF multideterminants from Gamess.</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> MCSCF arguments:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 12%" />
<col style="width: 14%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Option Name</strong></p></th>
<th class="head"><p><strong>Value</strong></p></th>
<th class="head"><p><strong>default</strong></p></th>
<th class="head"><p><strong>description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-ci</span></code></p></td>
<td><p>String</p></td>
<td><p>none</p></td>
<td><p>Name of the file containing the CI expansion</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-threshold</span></code></p></td>
<td><p>double</p></td>
<td><p>1e-20</p></td>
<td><p>Cutoff of the weight of the determinants</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-TargetState</span></code></p></td>
<td><p>int</p></td>
<td><p>none</p></td>
<td><p>?</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-NaturalOrbitals</span></code></p></td>
<td><p>int</p></td>
<td><p>none</p></td>
<td><p>?</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-optDetCoeffs</span></code></p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>no</p></td>
<td><p>Enables the optimization of CI coefficients</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<ul class="simple">
<li><p>keyword <strong>-ci</strong> Path/name of the file containing the CI expansion in
a Gamess Format.</p></li>
<li><p>keyword <strong>-threshold</strong> The CI expansion contains coefficients
(weights) for each determinant. This option sets the maximum
coefficient to include in the QMC run. By default it is set to 1e-20
(meaning all determinants in an expansion are taken into account). At
the same time, if the threshold is set to a different value, for
example <span class="math notranslate nohighlight">\(1e-5\)</span>, any determinant with a weight
<span class="math notranslate nohighlight">\(|weight| &lt; 1e-5\)</span> will be discarded and the determinant will
not be considered.</p></li>
<li><p>keyword <strong>-TargetState</strong> ?</p></li>
<li><p>keyword <strong>-NaturalOrbitals</strong> ?</p></li>
<li><p>keyword <strong>-optDetCoeffs</strong> This flag enables optimization of the CI
expansion coefficients. By default, optimization of the coefficients
is disabled during wavefunction optimization runs.</p></li>
</ul>
<p>Examples and more thorough descriptions of these options can be found in the lab section of this manual: <a class="reference internal" href="lab_advanced_molecules.html#lab-advanced-molecules"><span class="std std-ref">Lab 3: Advanced molecular calculations</span></a>.</p>
</div>
<div class="section" id="grid-options">
<h4>Grid options<a class="headerlink" href="#grid-options" title="Permalink to this headline">¶</a></h4>
<p>These parameters control how the basis set is projected on a grid. The default parameters are chosen to be very efficient. Unless you have a very good reason, we do not recommend modifying them.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 16%" />
<col style="width: 40%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Tags</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>keyword</strong></p></td>
<td><p><strong>Value</strong></p></td>
<td><p><strong>default</strong></p></td>
<td><p><strong>description</strong></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-gridtype</span></code></p></td>
<td><p>log|log0|linear</p></td>
<td><p>log</p></td>
<td><p>Grid type</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-first</span></code></p></td>
<td><p>double</p></td>
<td><p>1e-6</p></td>
<td><p>First point of the grid</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-last</span></code></p></td>
<td><p>double</p></td>
<td><p>100</p></td>
<td><p>Last point of the grid</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-size</span></code></p></td>
<td><p>int</p></td>
<td><p>1001</p></td>
<td><p>Number of point in the grid</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p><strong>-gridtype</strong> Grid type can be logarithmic, logarithmic base 10, or
linear</p></li>
<li><p><strong>-first</strong> First value of the grid</p></li>
<li><p><strong>-last</strong> Last value of the grid</p></li>
<li><p><strong>-size</strong> Number of points in the grid between “first” and “last.”</p></li>
</ul>
</div>
<div class="section" id="supported-codes">
<h4>Supported codes<a class="headerlink" href="#supported-codes" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p><strong>PySCF</strong></p>
<p>PySCF <a class="bibtex reference internal" href="#sun2018" id="id9">[SBB+18]</a> is an all-purpose quantum chemistry
code that can run calculations from simple Hartree-Fock to DFT, MCSCF,
and CCSD, and for both isolated systems and periodic boundary
conditions. PySCF can be downloaded from <a class="reference external" href="https://github.com/sunqm/pyscf">https://github.com/sunqm/pyscf</a>.
Many examples and tutorials can be found on the PySCF website, and all
types of single determinants calculations are compatible with , thanks
to active support from the authors of PySCF. A few additional steps are
necessary to generate an output readable by <code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code>.</p>
<p>This example shows how to run a Hartree-Fock calculation for the <span class="math notranslate nohighlight">\(LiH\)</span>
dimer molecule from PySCF and convert the wavefunction for QMCPACK.</p>
<ul>
<li><p><strong>Python path</strong></p>
<p>PySCF is a Python-based code. A Python module named <strong>PyscfToQmcpack</strong>
containing the function <strong>savetoqmcpack</strong> is provided by and is located
at <code class="docutils literal notranslate"><span class="pre">qmcpack/src/QMCTools/PyscfToQmcpack.py</span></code>. To be accessible to the
PySCF script, this path must be added to the PYTHONPATH environment
variable. For the bash shell, this can be done as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export PYTHONPATH=/PATH_TO_QMCPACK/qmcpack/src/QMCTools:\$PYTHONPATH
</pre></div>
</div>
</li>
<li><p><strong>PySCF Input File</strong></p>
<p>Copy and paste the following code in a file named LiH.py.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#! /usr/bin/env python3</span>
<span class="kn">from</span> <span class="nn">pyscf</span> <span class="kn">import</span> <span class="n">gto</span><span class="p">,</span> <span class="n">scf</span><span class="p">,</span> <span class="n">df</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="n">cell</span> <span class="o">=</span> <span class="n">gto</span><span class="o">.</span><span class="n">M</span><span class="p">(</span>
   <span class="n">atom</span> <span class="o">=</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">Li 0.0 0.0 0.0</span>
<span class="s1">H  0.0 0.0 3.0139239778&#39;&#39;&#39;</span><span class="p">,</span>
   <span class="n">basis</span> <span class="o">=</span><span class="s1">&#39;cc-pv5z&#39;</span><span class="p">,</span>
   <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;bohr&quot;</span><span class="p">,</span>
   <span class="n">spin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
   <span class="n">verbose</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
   <span class="n">cart</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">mf</span> <span class="o">=</span> <span class="n">scf</span><span class="o">.</span><span class="n">ROHF</span><span class="p">(</span><span class="n">cell</span><span class="p">)</span>
<span class="n">mf</span><span class="o">.</span><span class="n">kernel</span><span class="p">()</span>

<span class="c1">###SPECIFIC TO QMCPACK###</span>
<span class="n">title</span><span class="o">=</span><span class="s1">&#39;LiH&#39;</span>
<span class="kn">from</span> <span class="nn">PyscfToQmcpack</span> <span class="kn">import</span> <span class="n">savetoqmcpack</span>

<span class="n">savetoqmcpack</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span><span class="n">mf</span><span class="p">,</span><span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
<p>The arguments to the function <strong>savetoqmcpack</strong> are:</p>
<ul class="simple">
<li><p><strong>cell</strong> This is the object returned from gto.M, containing the type
of atoms, geometry, basisset, spin, etc.</p></li>
<li><p><strong>mf</strong> This is an object representing the PySCF level of theory, in
this example, ROHF. This object contains the orbital coefficients of
the calculations.</p></li>
<li><p><strong>title</strong> The name of the output file generated by PySCF. By default,
the name of the generated file will be “default” if nothing is
specified.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>By adding the three lines below the “SPECIFIC TO QMCPACK” comment in the
input file, the script will dump all the necessary data for QMCPACK into
an HDF5 file using the value of “title” as an output name. PySCF is run
as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="n">python</span> <span class="n">LiH</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>The generated HDF5 can be read by <code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> to generate the
appropriate QMCPACK input files.</p>
</li>
<li><p><strong>Generating input files</strong></p>
<p>As described in the previous section, generating input files for PySCF is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">convert4qmc</span> <span class="o">-</span><span class="n">pyscf</span> <span class="n">LiH</span><span class="o">.</span><span class="n">h5</span>
</pre></div>
</div>
<p>The HDF5 file produced by “savetoqmcpack” contains the wavefunction in a
form directly readable by QMCPACK. The wavefunction files from
<code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> reference this HDF file as if the “-hdf5” option were
specified (converting from PySCF implies the “-hdf5” option is always
present).</p>
</li>
</ul>
</li>
</ul>
<p>An implementation of periodic boundary conditions with Gaussian orbitals from PySCF is under development.</p>
<ul>
<li><p><strong>Quantum Package</strong></p>
<p>QP <a class="bibtex reference internal" href="sCI.html#qp" id="id10">[Sce17]</a> is a quantum chemistry code developed by the
LCPQ laboratory in Toulouse, France. It can be downloaded from
<a class="reference external" href="https://github.com/LCPQ/quantum_package">https://github.com/LCPQ/quantum_package</a>, and the tutorial within is
quite extensive. The tutorial section of QP can guide you on how to
install and run the code.</p>
<p>After a QP calculation, the data needed for <code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> can be
generated through</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qp_run</span> <span class="n">save_for_qmcpack</span> <span class="n">Myrun</span><span class="o">.</span><span class="n">ezfio</span> <span class="o">&amp;&gt;</span> <span class="n">Myrun</span><span class="o">.</span><span class="n">dump</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">convert4qmc</span></code> can read this format and generate QMCPACK input files in XML and HDF5 format.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">convert4qmc</span> <span class="o">-</span><span class="n">QP</span> <span class="n">Myrun</span><span class="o">.</span><span class="n">dump</span>
</pre></div>
</div>
<p>The main reason to use QP is to access the CIPSI algorithm to generate a
multideterminant wavefunction. CIPSI is the preferred choice for
generating a selected CI trial wavefunction for QMCPACK. An example on
how to use QP for Hartree-Fock and selected CI can be found in
<a class="reference internal" href="sCI.html#cipsi"><span class="std std-ref">CIPSI wavefunction interface</span></a> of this manual. The converter code is actively
maintained and codeveloped by both QMCPACK and QP developers.</p>
<p>We recommend using a trial wavefunction stored in HDF5 format to reduce the reading time when a multideterminant expansion is too large (more than 1K determinants). This can be done with two paths:</p>
<p>using the <em>-hdf5</em> option in the converter as follows:</p>
</li>
<li><p><strong>Using -hdf5 tag</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">convert4qmc</span> <span class="o">-</span><span class="n">QP</span> <span class="n">Myrun</span><span class="o">.</span><span class="n">dump</span> <span class="o">-</span><span class="n">hdf5</span>
</pre></div>
</div>
<p>This will read the multideterminant expansion in the <code class="docutils literal notranslate"><span class="pre">Myrun.dump</span></code> file
and store it in <code class="docutils literal notranslate"><span class="pre">Myrun.dump.orbs.h5</span></code>. Note that this method will be
deprecated as QP automatically generates a compatible HDF5 file usable
by QMCPACK directly.</p>
</li>
<li><p><strong>Using h5 file</strong></p>
<p>QP version 2.0 (released in 2019) directly generates an HDF5 file that completely mimics the QMCPACK readable format. This file can be generated after a CIPSI, Hartree-Fock, or range-separated DFT in QP as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qp_run</span> <span class="n">save_for_qmcpack</span> <span class="n">Myrun</span><span class="o">.</span><span class="n">ezfio</span> <span class="o">&gt;</span> <span class="n">Myrun</span><span class="o">.</span><span class="n">dump</span>
</pre></div>
</div>
<p>In addition to <code class="docutils literal notranslate"><span class="pre">Myrun.dump</span></code>, an HDF5 file always named <code class="docutils literal notranslate"><span class="pre">QMC.h5</span></code> is
created containing all relevant information to start a QMC run. Input
files can be generated as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">convert4qmc</span> <span class="o">-</span><span class="n">orbitals</span> <span class="n">QMC</span><span class="o">.</span><span class="n">h5</span> <span class="o">-</span><span class="n">multidet</span> <span class="n">QMC</span><span class="o">.</span><span class="n">h5</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">QMC.h5</span></code> combined with the tags <code class="docutils literal notranslate"><span class="pre">-orbitals</span></code> and
<code class="docutils literal notranslate"><span class="pre">-multidet</span></code> allows the user to choose orbitals from a different code
such as PYSCF and the multideterminant section from QP. These two codes
are fully compatible, and this route is also the only possible route for
multideterminants for solids.</p>
</li>
<li><p><strong>GAMESS</strong></p>
<p>QMCPACK can use the output of GAMESS <a class="bibtex reference internal" href="intro_wavefunction.html#schmidt93" id="id11">[SBB+93]</a> for any type of single determinant calculation (HF or DFT) or multideterminant (MCSCF) calculation. A description with an example can be found in the Advanced Molecular Calculations Lab (<a class="reference internal" href="lab_advanced_molecules.html#lab-advanced-molecules"><span class="std std-ref">Lab 3: Advanced molecular calculations</span></a>).</p>
</li>
</ul>
</div>
</div>
<div class="section" id="pw2qmcpack-x">
<span id="pw2qmcpack"></span><h3>pw2qmcpack.x<a class="headerlink" href="#pw2qmcpack-x" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pw2qmcpack.x</span></code> is an executable that converts PWSCF wavefunctions to QMCPACK readable
HDF5 format.  This utility is built alongside the QE postprocessing utilities.
This utility is written in Fortran90 and is distributed as a patch of the QE
source code.  The patch, as well as automated QE download and patch scripts, can be found in
<code class="docutils literal notranslate"><span class="pre">qmcpack/external_codes/quantum_espresso</span></code>.</p>
<p>pw2qmcpack can be used in serial in small systems and should be used in parallel with large systems for best performance. The K_POINT gamma optimization is not supported.</p>
<div class="literal-block-wrapper docutils container" id="listing-66">
<div class="code-block-caption"><span class="caption-number">Listing 66 </span><span class="caption-text">Sample <code class="docutils literal notranslate"><span class="pre">pw2qmcpack.x</span></code> input file <code class="docutils literal notranslate"><span class="pre">p2q.in</span></code></span><a class="headerlink" href="#listing-66" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">inputpp</span>
  <span class="n">prefix</span>     <span class="o">=</span> <span class="s1">&#39;bulk_silicon&#39;</span>
  <span class="n">outdir</span>     <span class="o">=</span> <span class="s1">&#39;./&#39;</span>
  <span class="n">write_psir</span> <span class="o">=</span> <span class="o">.</span><span class="n">false</span><span class="o">.</span>
<span class="o">/</span>
</pre></div>
</div>
</div>
<p>This example will cause <code class="docutils literal notranslate"><span class="pre">pw2qmcpack.x</span></code> to convert wavefunctions saved from
PWSCF with the prefix “bulk_silicon.” Perform the conversion via, for
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mpirun</span> <span class="o">-</span><span class="n">np</span> <span class="mi">1</span> <span class="n">pw2qmcpack</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">p2q</span><span class="o">.</span><span class="ow">in</span><span class="o">&gt;&amp;</span> <span class="n">p2q</span><span class="o">.</span><span class="n">out</span>
</pre></div>
</div>
<p>Because of the large plane-wave energy cutoffs in the pw.x calculation required by accurate PPs and the large system sizes of interest, one limitation of QE can be easily reached:
that <code class="docutils literal notranslate"><span class="pre">wf_collect=.true.</span></code> results in problems of writing and loading correct plane-wave coefficients on disks by pw.x because of the 32 bit integer limits. Thus, <code class="docutils literal notranslate"><span class="pre">pw2qmcpack.x</span></code> fails to convert the orbitals for QMCPACK. Since the release of QE v5.3.0, the converter has been fully parallelized to overcome this limitation completely.</p>
<p>By setting <code class="docutils literal notranslate"><span class="pre">wf_collect=.false.</span></code> (by default <code class="docutils literal notranslate"><span class="pre">.false.</span></code> in v6.1 and before and <code class="docutils literal notranslate"><span class="pre">.true.</span></code> since v6.2), pw.x does not collect the whole wavefunction into individual files for each k-point but instead writes one smaller file for each processor.
By running <code class="docutils literal notranslate"><span class="pre">pw2qmcpack.x</span></code> in the same parallel setup (MPI tasks and k-pools) as the last scf/nscf calculation with pw.x,
the orbitals distributed among processors will first be aggregated by the converter into individual temporal HDF5 files for each k-pool and then merged into the final file.
In large calculations, users should benefit from a significant reduction of time in writing the wavefunction by pw.x thanks to avoiding the wavefunction collection.</p>
<p>pw2qmcpack has been included in the test suite of QMCPACK (see instructions about how to activate the tests in <a class="reference internal" href="installation.html#buildqe"><span class="std std-ref">Installing and patching Quantum ESPRESSO</span></a>).
There are tests labeled “no-collect” running the pw.x with the setting <code class="docutils literal notranslate"><span class="pre">wf_collect=.false.</span></code>
The input files are stored at <code class="docutils literal notranslate"><span class="pre">examples/solids/dft-inputs-polarized-no-collect</span></code>.
The scf, nscf, and pw2qmcpack runs are performed on 16, 12, and 12 MPI tasks with 16, 2, and 2 k-pools respectively.</p>
</div>
<div class="section" id="convertpw4qmc">
<h3>convertpw4qmc<a class="headerlink" href="#convertpw4qmc" title="Permalink to this headline">¶</a></h3>
<p>Convertpw4qmc is an executable that reads xml from a plane wave based DFT code and produces a QMCPACK readable
HDF5 format wavefunction.  For the moment, this supports both QBox and Quantum Epresso</p>
<p>In order to save the wavefunction from QBox so that convertpw4qmc can work on it, one needs to add a line to the
QBox input like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">save</span> <span class="o">-</span><span class="n">text</span> <span class="o">-</span><span class="n">serial</span> <span class="n">basename</span><span class="o">.</span><span class="n">sample</span>
</pre></div>
</div>
<p>after the end of a converged dft calculation.  This will write an ascii wavefunction file and will avoid
QBox’s optimized parallel IO (which is not currently supported).</p>
<p>After the wavefunction file is written (basename.sample in this case) one can use convertpw4qmc as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">convertpw4qmc</span> <span class="n">basename</span><span class="o">.</span><span class="n">sample</span> <span class="o">-</span><span class="n">o</span> <span class="n">qmcpackWavefunction</span><span class="o">.</span><span class="n">h5</span>
</pre></div>
</div>
<p>This reads the Qbox wavefunction and performs the Fourier transform before saving to a QMCPACK eshdf format wavefunction.  Currently multiple k-points are supported, but due to difficulties with the qbox wavefunction file format, the single particle orbitals do not have their proper energies associated with them.  This means that when tiling from a primitive cell to a supercell, the lowest n single particle orbitals from all necessary k-points will be used.  This can be problematic in the case of a metal and this feature should be used with EXTREME caution.</p>
<p>In the case of quantum espresso, QE must be compiled with HDF support.  If this is the case, then an eshdf file can be generated by targeting the data-file-schema.xml file
generated in the output of quantum espresso.  For example, if one is running a calculation with outdir = ‘out’ and prefix=’Pt’ then the converter can be invoked as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">convertpw4qmc</span> <span class="n">out</span><span class="o">/</span><span class="n">Pt</span><span class="o">.</span><span class="n">save</span><span class="o">/</span><span class="n">data</span><span class="o">-</span><span class="n">file</span><span class="o">-</span><span class="n">schema</span><span class="o">.</span><span class="n">xml</span> <span class="o">-</span><span class="n">o</span> <span class="n">qmcpackWavefunction</span><span class="o">.</span><span class="n">h5</span>
</pre></div>
</div>
<p>Note that this method is insensitive to parallelization options given to quantum espresso.  Additionally, it supports noncollinear magnetism and can be used to generate
wavefunctions suitable for qmcpack calculations with spin-orbit coupling.</p>
</div>
<div class="section" id="ppconvert">
<span id="id12"></span><h3>ppconvert<a class="headerlink" href="#ppconvert" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">ppconvert</span></code> is a utility to convert PPs between different commonly used formats.
It is a stand-alone C++ executable that is not built by default but that is accessible via adding
<code class="docutils literal notranslate"><span class="pre">-DBUILD_PPCONVERT=1</span></code> to CMake and then typing <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">ppconvert</span></code>.
Currently it converts CASINO, FHI, UPF (generated by OPIUM), BFD, and GAMESS formats to several other formats
including XML (QMCPACK) and UPF (QE). See all the formats via <code class="docutils literal notranslate"><span class="pre">ppconvert</span> <span class="pre">-h</span></code>.
For output formats requiring Kleinman-Bylander projectors, the atom will be solved with DFT
if the projectors are not provided in the input formats.</p>
<p>This requires providing reference states and sometimes needs extra tuning for heavy elements.
To avoid ghost states, the local channel can be changed via the <code class="docutils literal notranslate"><span class="pre">--local_channel</span></code> option. Ghost state considerations are similar to those of DFT calculations but could be worse if ghost states were not considered during the original PP construction.
To make the self-consistent calculation converge, the density mixing parameter may need to be reduced
via the <code class="docutils literal notranslate"><span class="pre">--density_mix</span></code> option.
Note that the reference state should include only the valence electrons.
One reference state should be included for each channel in the PP.</p>
<p>For example, for a sodium atom with a neon core, the reference state would be “1s(1).”
<code class="docutils literal notranslate"><span class="pre">--s_ref</span></code> needs to include a 1s state, <code class="docutils literal notranslate"><span class="pre">--p_ref</span></code> needs to include a 2p state,
<code class="docutils literal notranslate"><span class="pre">--d_ref</span></code> needs to include a 3d state, etc. If not specified, a corresponding state with zero occupation is added.
If the reference state is chosen as the neon core, setting empty reference states “” is technically correct.
In practice, reasonable reference states should be picked with care.
For PP with semi-core electrons in the valence, the reference state can be long.
For example, Ti PP has 12 valence electrons. When using the neutral atom state,
<code class="docutils literal notranslate"><span class="pre">--s_ref</span></code>, <code class="docutils literal notranslate"><span class="pre">--p_ref</span></code>, and <code class="docutils literal notranslate"><span class="pre">--d_ref</span></code> are all set as “1s(2)2p(6)2s(2)3d(2).”
When using an ionized state, the three reference states are all set as “1s(2)2p(6)2s(2)” or “1s(2)2p(6)2s(2)3d(0).”</p>
<p>Unfortunately, if the generated UPF file is used in QE, the calculation may be incorrect because of the presence of “ghost” states. Potentially these can be removed by adjusting the local channel (e.g., by setting <code class="docutils literal notranslate"><span class="pre">--local_channel</span> <span class="pre">1</span></code>, which chooses the p channel as the local channel instead of d.
For this reason, validation of UPF PPs is always required from the third row and is strongly encouraged in general. For example, check that the expected ionization potential and electron affinities are obtained for the atom and that dimer properties are consistent with those obtained by a quantum chemistry code or a plane-wave code that does not use the Kleinman-Bylander projectors.</p>
</div>
</div>
<div class="section" id="obtaining-pseudopotentials">
<h2>Obtaining pseudopotentials<a class="headerlink" href="#obtaining-pseudopotentials" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pseudopotentiallibrary-org">
<h3>Pseudopotentiallibrary.org<a class="headerlink" href="#pseudopotentiallibrary-org" title="Permalink to this headline">¶</a></h3>
<p>An open website collecting community developed and tested
pseudopotentials for QMC and other many-body calculations is being
developed at <a class="reference external" href="https://pseudopotentiallibrary.org">https://pseudopotentiallibrary.org</a>. This site
includes potentials in QMCPACK format and an increasing range of
electronic structure and quantum chemistry codes. We recommend using
potentials from this site if available and suitable for your science
application.</p>
</div>
<div class="section" id="opium">
<span id="id13"></span><h3>Opium<a class="headerlink" href="#opium" title="Permalink to this headline">¶</a></h3>
<p>Opium is a pseudopotential generation code available from the website <a class="reference external" href="http://opium.sourceforge.net/">http://opium.sourceforge.net/</a>.  Opium can generate pseudopotentials with either Hartree-Fock or DFT methods.  Once you have a useable pseudopotential param file (for example, Li.param), generate pseudopotentials for use in Quantum ESPRESSO with the upf format as follows:</p>
<p>This generates a UPF-formatted pseudopotential (<code class="docutils literal notranslate"><span class="pre">Li.upf</span></code>, in this case) for use in Quantum ESPRESSO.  The pseudopotential conversion tool <code class="docutils literal notranslate"><span class="pre">ppconvert</span></code> can then convert UPF to FSAtom xml format for use in QMCPACK:</p>
<div class="literal-block-wrapper docutils container" id="listing-68">
<div class="code-block-caption"><span class="caption-number">Listing 67 </span><span class="caption-text">Convert UPF-formatted pseudopotential to FSAtom xml format</span><a class="headerlink" href="#listing-68" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ppconvert</span> <span class="o">--</span><span class="n">upf_pot</span> <span class="n">Li</span><span class="o">.</span><span class="n">upf</span> <span class="o">--</span><span class="n">xml</span> <span class="n">Li</span><span class="o">.</span><span class="n">xml</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="burkatzki-filippi-dolg">
<span id="bfd"></span><h3>Burkatzki-Filippi-Dolg<a class="headerlink" href="#burkatzki-filippi-dolg" title="Permalink to this headline">¶</a></h3>
<p>Burkatzki <em>et al.</em> developed a set of energy-consistent pseudopotenitals
for use in QMC <a class="bibtex reference internal" href="#burkatzki07" id="id14">[BFD07]</a><a class="bibtex reference internal" href="#burkatzki08" id="id15">[BFD08]</a>, available at
<a class="reference external" href="http://www.burkatzki.com/pseudos/index.2.html">http://www.burkatzki.com/pseudos/index.2.html</a>. To convert for use in
QMCPACK, select a pseudopotential (choice of basis set is irrelevant to
conversion) in GAMESS format and copy the ending (pseudopotential) lines
beginning with(element symbol)-QMC GEN:</p>
<div class="literal-block-wrapper docutils container" id="listing-69">
<div class="code-block-caption"><span class="caption-number">Listing 68 </span><span class="caption-text">BFD Li pseudopotential in GAMESS format</span><a class="headerlink" href="#listing-69" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Li</span><span class="o">-</span><span class="n">QMC</span> <span class="n">GEN</span> <span class="mi">2</span> <span class="mi">1</span>
<span class="mi">3</span>
<span class="mf">1.00000000</span> <span class="mi">1</span> <span class="mf">5.41040609</span>
<span class="mf">5.41040609</span> <span class="mi">3</span> <span class="mf">2.70520138</span>
<span class="o">-</span><span class="mf">4.60151975</span> <span class="mi">2</span> <span class="mf">2.07005488</span>
<span class="mi">1</span>
<span class="mf">7.09172172</span> <span class="mi">2</span> <span class="mf">1.34319829</span>
</pre></div>
</div>
</div>
<p>Save these lines to a file (here, named <code class="docutils literal notranslate"><span class="pre">Li.BFD.gamess</span></code>; the exact name may be anything as long as it is passed to <code class="docutils literal notranslate"><span class="pre">ppconvert</span></code> after –gamess_pot).  Then, convert using <code class="docutils literal notranslate"><span class="pre">ppconvert</span></code> with the following:</p>
<div class="literal-block-wrapper docutils container" id="listing-70">
<div class="code-block-caption"><span class="caption-number">Listing 69 </span><span class="caption-text">Convert GAMESS-formatted pseudopotential to FSAtom xml format</span><a class="headerlink" href="#listing-70" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ppconvert</span> <span class="o">--</span><span class="n">gamess_pot</span> <span class="n">Li</span><span class="o">.</span><span class="n">BFD</span><span class="o">.</span><span class="n">gamess</span> <span class="o">--</span><span class="n">s_ref</span> <span class="s2">&quot;2s(1)&quot;</span> <span class="o">--</span><span class="n">p_ref</span> <span class="s2">&quot;2p(0)&quot;</span> <span class="o">--</span><span class="n">xml</span> <span class="n">Li</span><span class="o">.</span><span class="n">BFD</span><span class="o">.</span><span class="n">xml</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="listing-71">
<div class="code-block-caption"><span class="caption-number">Listing 70 </span><span class="caption-text">Convert GAMESS-formatted pseudopotential to Quantum ESPRESSO UPF format</span><a class="headerlink" href="#listing-71" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ppconvert</span> <span class="o">--</span><span class="n">gamess_pot</span> <span class="n">Li</span><span class="o">.</span><span class="n">BFD</span><span class="o">.</span><span class="n">gamess</span> <span class="o">--</span><span class="n">s_ref</span> <span class="s2">&quot;2s(1)&quot;</span> <span class="o">--</span><span class="n">p_ref</span> <span class="s2">&quot;2p(0)&quot;</span> <span class="o">--</span><span class="n">log_grid</span> <span class="o">--</span><span class="n">upf</span> <span class="n">Li</span><span class="o">.</span><span class="n">BFD</span><span class="o">.</span><span class="n">upf</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="casino">
<span id="id16"></span><h3>CASINO<a class="headerlink" href="#casino" title="Permalink to this headline">¶</a></h3>
<p>The QMC code CASINO also makes available its pseudopotentials available at the website <a class="reference external" href="https://vallico.net/casinoqmc/pplib/">https://vallico.net/casinoqmc/pplib/</a>. To use one in QMCPACK, select a pseudopotential and download its summary file (<code class="docutils literal notranslate"><span class="pre">summary.txt</span></code>), its tabulated form (<code class="docutils literal notranslate"><span class="pre">pp.data</span></code>), and (for ppconvert to construct the projectors to convert to Quantum ESPRESSO’s UPF format) a CASINO atomic wavefunction for each angular momentum channel (<code class="docutils literal notranslate"><span class="pre">awfn.data_*</span></code>).  Then, to convert using ppconvert, issue the following command:</p>
<div class="literal-block-wrapper docutils container" id="listing-72">
<div class="code-block-caption"><span class="caption-number">Listing 71 </span><span class="caption-text">Convert CASINO-formatted pseudopotential to Quantum ESPRESSO UPF format</span><a class="headerlink" href="#listing-72" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ppconvert</span> <span class="o">--</span><span class="n">casino_pot</span> <span class="n">pp</span><span class="o">.</span><span class="n">data</span> <span class="o">--</span><span class="n">casino_us</span> <span class="n">awfn</span><span class="o">.</span><span class="n">data_s1_2S</span> <span class="o">--</span><span class="n">casino_up</span> <span class="n">awfn</span><span class="o">.</span><span class="n">data_p1_2P</span> <span class="o">--</span><span class="n">casino_ud</span> <span class="n">awfn</span><span class="o">.</span><span class="n">data_d1_2D</span> <span class="o">--</span><span class="n">upf</span> <span class="n">Li</span><span class="o">.</span><span class="n">TN</span><span class="o">-</span><span class="n">DF</span><span class="o">.</span><span class="n">upf</span>
</pre></div>
</div>
</div>
<p>QMCPACK can directly read in the CASINO-formated pseudopotential (<code class="docutils literal notranslate"><span class="pre">pp.data</span></code>), but four parameters found in the pseudopotential summary file must be specified in the pseudo element (<code class="docutils literal notranslate"><span class="pre">l-local</span></code>, <code class="docutils literal notranslate"><span class="pre">lmax</span></code>, <code class="docutils literal notranslate"><span class="pre">nrule</span></code>, <code class="docutils literal notranslate"><span class="pre">cutoff</span></code>)[see <a class="reference internal" href="hamiltonianobservable.html#nlpp"><span class="std std-ref">Pseudopotentials</span></a> for details]:</p>
<div class="literal-block-wrapper docutils container" id="listing-73">
<div class="code-block-caption"><span class="caption-number">Listing 72 </span><span class="caption-text">XML syntax to use CASINO-formatted pseudopotentials in QMCPACK</span><a class="headerlink" href="#listing-73" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">pairpot</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;pseudo&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;PseudoPot&quot;</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;ion0&quot;</span> <span class="n">wavefunction</span><span class="o">=</span><span class="s2">&quot;psi0&quot;</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;xml&quot;</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">pseudo</span> <span class="n">elementType</span><span class="o">=</span><span class="s2">&quot;Li&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;Li.pp.data&quot;</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;casino&quot;</span> <span class="n">l</span><span class="o">-</span><span class="n">local</span><span class="o">=</span><span class="s2">&quot;s&quot;</span> <span class="n">lmax</span><span class="o">=</span><span class="s2">&quot;2&quot;</span> <span class="n">nrule</span><span class="o">=</span><span class="s2">&quot;2&quot;</span> <span class="n">cutoff</span><span class="o">=</span><span class="s2">&quot;2.19&quot;</span><span class="o">/&gt;</span>
   <span class="o">&lt;</span><span class="n">pseudo</span> <span class="n">elementType</span><span class="o">=</span><span class="s2">&quot;H&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;H.pp.data&quot;</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;casino&quot;</span> <span class="n">l</span><span class="o">-</span><span class="n">local</span><span class="o">=</span><span class="s2">&quot;s&quot;</span> <span class="n">lmax</span><span class="o">=</span><span class="s2">&quot;2&quot;</span> <span class="n">nrule</span><span class="o">=</span><span class="s2">&quot;2&quot;</span> <span class="n">cutoff</span><span class="o">=</span><span class="s2">&quot;0.5&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">pairpot</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="wftester">
<span id="id17"></span><h3>wftester<a class="headerlink" href="#wftester" title="Permalink to this headline">¶</a></h3>
<p>While not really a stand-alone application, wftester (short for “Wave
Function Tester”) is a helpful tool for testing pre-existing and
experimental estimators and observables. It provides the user with
derived quantities from the Hamiltonian and wave function, but evaluated
at a small set of configurations.</p>
<p>The wftester is implemented as a QMCDriver, so one invokes QMCPACK in
the normal manner with a correct input XML, the difference being the
addition of an additional qmc input block. This is the main advantage of
this tool–it allows testing of realistic systems and realistic
combinations of observables. It can also be invoked before launching
into optimization, VMC, or DMC runs, as it is a valid &lt;qmc&gt; block.</p>
<p>As an example, the following code generates a random walker configuration and compares the trial wave function ratio computed in two different ways:</p>
<div class="literal-block-wrapper docutils container" id="listing-74">
<div class="code-block-caption"><span class="caption-number">Listing 73 </span><span class="caption-text">The following executes the wavefunction ratio test in “wftester”</span><a class="headerlink" href="#listing-74" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">qmc</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;wftester&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">parameter</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ratio&quot;</span><span class="o">&gt;</span>    <span class="n">yes</span>    <span class="o">&lt;/</span><span class="n">parameter</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">qmc</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<p>Here’s a summary of some of the tests provided:</p>
<ul>
<li><p>Ratio Test. Invoked with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">parameter</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ratio&quot;</span><span class="o">&gt;</span><span class="n">yes</span><span class="o">&lt;/</span><span class="n">parameter</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This computes the implemented wave function ratio associated with a
single-particle move using two different methods.</p>
</li>
<li><p>Clone Test. Invoked with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">parameter</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;clone&quot;</span><span class="o">&gt;</span><span class="n">yes</span><span class="o">&lt;/</span><span class="n">parameter</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This checks the cloning of TrialWaveFunction, ParticleSet,
Hamiltonian, and Walkers.</p>
</li>
<li><p>Elocal Test. Invoked with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">parameter</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;printEloc&quot;</span><span class="o">&gt;</span><span class="n">yes</span><span class="o">&lt;/</span><span class="n">parameter</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For an input electron configuration (can be random), print the value
of TrialWaveFunction, LocalEnergy, and all local observables for this
configuration.</p>
</li>
<li><p>Derivative Test. Invoked with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">parameter</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ratio&quot;</span><span class="o">&gt;</span><span class="n">deriv</span><span class="o">&lt;/</span><span class="n">parameter</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Computes electron gradients, laplacians, and wave function parameter
derivatives using implemented calls and compares them to
finite-difference results.</p>
</li>
<li><p>Ion Gradient Test. Invoked with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">parameter</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;source&quot;</span><span class="o">&gt;</span><span class="n">ion0</span><span class="o">&lt;/</span><span class="n">parameter</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Calls the implemented evaluateGradSource functions and compares them
against finite-difference results.</p>
</li>
<li><p>“Basic Test”. Invoked with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">parameter</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;basic&quot;</span><span class="o">&gt;</span><span class="n">yes</span><span class="o">&lt;/</span><span class="n">parameter</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Performs ratio, gradient, and laplacian tests against
finite-difference and direct computation of wave function values.</p>
</li>
</ul>
<p>The output of the various tests will be to standard out or “wftest.000” after successful execution of qmcpack.</p>
<p id="bibtex-bibliography-additional_tools-0"><dl class="citation">
<dt class="bibtex label" id="burkatzki07"><span class="brackets"><a class="fn-backref" href="#id14">BFD07</a></span></dt>
<dd><p>M. Burkatzki, C. Filippi, and M. Dolg. Energy-consistent pseudopotentials for quantum monte carlo calculations. <em>The Journal of Chemical Physics</em>, 126(23):–, 2007. <a class="reference external" href="https://doi.org/10.1063/1.2741534">doi:10.1063/1.2741534</a>.</p>
</dd>
<dt class="bibtex label" id="burkatzki08"><span class="brackets"><a class="fn-backref" href="#id15">BFD08</a></span></dt>
<dd><p>M. Burkatzki, Claudia Filippi, and M. Dolg. Energy-consistent small-core pseudopotentials for 3d-transition metals adapted to quantum monte carlo calculations. <em>The Journal of Chemical Physics</em>, 129(16):–, 2008. <a class="reference external" href="https://doi.org/10.1063/1.2987872">doi:10.1063/1.2987872</a>.</p>
</dd>
<dt class="bibtex label" id="fedorov2004"><span class="brackets"><a class="fn-backref" href="#id6">FOK+04</a></span></dt>
<dd><p>Dmitri G. Fedorov, Ryan M. Olson, Kazuo Kitaura, Mark S. Gordon, and Shiro Koseki. A new hierarchical parallelization scheme: generalized distributed data interface (gddi), and an application to the fragment molecular orbital method (fmo). <em>Journal of Computational Chemistry</em>, 25(6):872–880, 2004. <a class="reference external" href="https://doi.org/10.1002/jcc.20018">doi:10.1002/jcc.20018</a>.</p>
</dd>
<dt class="bibtex label" id="ma2005"><span class="brackets"><a class="fn-backref" href="#id8">MTDN05</a></span></dt>
<dd><p>A. Ma, M. D. Towler, N. D. Drummond, and R. J. Needs. Scheme for adding electron–nucleus cusps to gaussian orbitals. <em>The Journal of Chemical Physics</em>, 122(22):224322, 2005. <a class="reference external" href="https://arxiv.org/abs/https://doi.org/10.1063/1.1940588">arXiv:https://doi.org/10.1063/1.1940588</a>, <a class="reference external" href="https://doi.org/10.1063/1.1940588">doi:10.1063/1.1940588</a>.</p>
</dd>
<dt class="bibtex label" id="qp"><span class="brackets">Sce17</span><span class="fn-backref">(<a href="#id5">1</a>,<a href="#id10">2</a>)</span></dt>
<dd><p>A. Scemamma. Quantum package. <span><a class="reference external" href="#"></a></span>https://github.com/LCPQ/quantum_package, 2013–2017.</p>
</dd>
<dt class="bibtex label" id="schmidt93"><span class="brackets">SBB+93</span><span class="fn-backref">(<a href="#id3">1</a>,<a href="#id7">2</a>,<a href="#id11">3</a>)</span></dt>
<dd><p>Michael W. Schmidt, Kim K. Baldridge, Jerry A. Boatz, Steven T. Elbert, Mark S. Gordon, Jan H. Jensen, Shiro Koseki, Nikita Matsunaga, Kiet A. Nguyen, Shujun Su, Theresa L. Windus, Michel Dupuis, and John A. Montgomery. General atomic and molecular electronic structure system. <em>Journal of Computational Chemistry</em>, 14(11):1347–1363, 1993. <a class="reference external" href="https://doi.org/10.1002/jcc.540141112">doi:10.1002/jcc.540141112</a>.</p>
</dd>
<dt class="bibtex label" id="sun2018"><span class="brackets">SBB+18</span><span class="fn-backref">(<a href="#id4">1</a>,<a href="#id9">2</a>)</span></dt>
<dd><p>Qiming Sun, Timothy C. Berkelbach, Nick S. Blunt, George H. Booth, Sheng Guo, Zhendong Li, Junzi Liu, James D. McClain, Elvira R. Sayfutyarova, Sandeep Sharma, Sebastian Wouters, and Garnet Kin-Lic Chan. Pyscf: the python-based simulations of chemistry framework. <em>Wiley Interdisciplinary Reviews: Computational Molecular Science</em>, 8(1):n/a–n/a, 2018. <a class="reference external" href="https://doi.org/10.1002/wcms.1340">doi:10.1002/wcms.1340</a>.</p>
</dd>
</dl>
</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="external_tools.html" class="btn btn-neutral float-right" title="External Tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="lab_excited.html" class="btn btn-neutral float-left" title="Lab 5: Excited state calculations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, QMCPACK Developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>